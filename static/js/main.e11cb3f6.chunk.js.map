{"version":3,"sources":["components/error-indicator/death-star.png","components/header/index.js","components/header/header.js","services/swapi-service.js","components/spinner/index.js","components/spinner/spinner.js","components/item-list/item-list.js","components/error-button/index.js","components/error-button/error-button.js","components/person-details/person-details.js","components/error-indicator/error-indicator.js","components/error-indicator/index.js","components/random-planet/random-planet.js","components/random-planet/index.js","components/people-page/index.js","components/people-page/people-page.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","Header","react_default","a","createElement","className","href","Component","SwapiService","_apiBase","_transformStarship","starship","id","_this","_extractId","name","model","manufacturer","costInCredits","length","crew","passengers","cargoCapacity","_transformPerson","person","gender","birthYear","birth_year","eyeColor","eye_color","url","fetch","concat","this","res","ok","Error","status","json","getResource","results","map","_transformPlanet","planet","item","match","population","rotationPeriod","rotation_period","diameter","Spinner","ItemList","swapiService","state","peopleList","_this2","getAllPeople","then","setState","arr","_this3","_ref","key","onClick","props","onItemSelected","components_spinner","items","renderItems","ErrorButton","renderError","foo","bar","PersonDetails","updatePerson","prevProps","personId","getPerson","_this$state$person","src","alt","components_error_button","ErrorIndicator","icon","RandomPlanet","loading","error","onPlanetLoaded","onError","err","updatePlanet","Math","floor","random","getPlanet","catch","interval","setInterval","clearInterval","_this$state","hasData","errorMessage","components_error_indicator","spinner","content","random_planet_PlanetView","PlanetView","PeoplePage","selectedPerson","hasError","onPersonSelected","info","error_indicator_error_indicator","Fragment","item_list_ItemList","person_details_PersonDetails","App","console","log","components_header","components_random_planet","components_people_page","ReactDOM","render","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.e11cb3f6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import Header from './header';\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\n\r\nimport './header.css';\r\n\r\nexport default class Header extends Component {\r\n\r\n    //\r\n    render() {\r\n        return(\r\n            <nav className=\"navbar navbar-expand-sm bg-dark\">\r\n                <h3>Star DB</h3>\r\n                <ul className=\"navbar-nav mr-auto\">\r\n                    <li className=\"btn-dark btn-lg\">\r\n                        <a className=\"nav-link\" href=\"#!\">People</a>\r\n                    </li>\r\n                    <li className=\"btn-dark btn-lg\">\r\n                        <a className=\"nav-link\" href=\"#!\">Planets</a>\r\n                    </li>\r\n                    <li className=\"btn-dark btn-lg\">\r\n                        <a className=\"nav-link\" href=\"#!\">Starships</a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n}","// API Server: https://www.swapi.co/\r\n\r\nexport default class SwapiService {\r\n    \r\n    // Базовый URL API\r\n    _apiBase = 'https://swapi.co/api';\r\n    \r\n    // Получение JSON-объекта по URL\r\n    async getResource(url) {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}, received ${res.status}`);\r\n        }\r\n\r\n        return await res.json();\r\n    }\r\n\r\n    // Коллекция всех персонажей\r\n    async getAllPeople() {\r\n        const res = await this.getResource('/people/');\r\n        return res.results.map(this._transformPerson);\r\n    }\r\n\r\n    // Персонаж по ID\r\n    async getPerson(id) {\r\n        const person = await this.getResource(`/people/${id}/`);\r\n        return this._transformPerson(person);\r\n    }\r\n\r\n    // Коллекция всех планет\r\n    async getAllPlanets() {\r\n        const res = await this.getResource('/planets/');\r\n        return res.results.map(this._transformPlanet);\r\n    }\r\n\r\n    // Планета по ID\r\n    async getPlanet(id) {\r\n        const planet = await this.getResource(`/planets/${id}/`);\r\n        return this._transformPlanet(planet);\r\n    }\r\n\r\n    // Коллекция всех кораблей\r\n    async getAllStarships() {\r\n        const res = await this.getResource(`/starships/`);\r\n        return res.results.map(this._transformStarship);\r\n    }\r\n\r\n    // Корабль по ID\r\n    async getStarship(id) {\r\n        const starship = this.getResource(`/starships/${id}/`);\r\n        return this._transformStarship(starship);\r\n    }\r\n\r\n    // \"Вычленение\" id из наиболее подходящего поля полученных данных от удаленного\r\n    // сервера - url.\r\n    // В данном случае, в конце строки адреса, обернутый с обеих сторон слэшами, \r\n    // находится тот самый id (.../12/), его и \"регексим\"\r\n    _extractId(item) {\r\n        const idRegExp = /\\/([0-9]*)\\/$/;\r\n        return item.url.match(idRegExp)[1];\r\n    }\r\n\r\n    // Далее три приватных метода - преобразование полученных данных от внешнего\r\n    // сервиса в понятные нашему приложению + изоляция и гарантия корректности данных\r\n    _transformPlanet (planet) {\r\n        const id = this._extractId(planet);\r\n        return {\r\n            id,\r\n            name: planet.name,\r\n            population: planet.population,\r\n            rotationPeriod: planet.rotation_period,\r\n            diameter: planet.diameter\r\n        };\r\n    }\r\n\r\n    _transformStarship = (starship) => {\r\n        return {\r\n            id: this._extractId(starship),\r\n            name: starship.name,\r\n            model: starship.model,\r\n            manufacturer: starship.manufacturer,\r\n            costInCredits: starship.costInCredits,\r\n            length: starship.length,\r\n            crew: starship.crew,\r\n            passengers: starship.passengers,\r\n            cargoCapacity: starship.cargoCapacity\r\n        };\r\n    }\r\n\r\n    _transformPerson = (person) => {\r\n        return {\r\n            id: this._extractId(person),\r\n            name: person.name,\r\n            gender: person.gender,\r\n            birthYear: person.birth_year,\r\n            eyeColor: person.eye_color\r\n        };\r\n    }\r\n}\r\n","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React, { Component } from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nexport default class Spinner extends Component {\r\n\r\n    //\r\n    render() {\r\n        return (\r\n            <div className=\"lds-css ng-scope\">\r\n                <div className=\"lds-double-ring\">\r\n                    <div></div>\r\n                    <div></div>\r\n                    <div>\r\n                        <div></div>\r\n                    </div>\r\n                    <div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../spinner';\r\nimport './item-list.css';\r\n\r\nexport default class ItemList extends Component {\r\n\r\n    swapiService = new SwapiService();\r\n\r\n    state = {\r\n        peopleList: null\r\n    };\r\n    \r\n    componentDidMount() {\r\n        this.swapiService\r\n            .getAllPeople()\r\n            .then((peopleList) => {\r\n                this.setState({peopleList});\r\n            });\r\n    }\r\n\r\n    // Получение из коллекции персон id и name для построения списка\r\n    renderItems (arr) {\r\n        return arr.map(({id, name}) => {\r\n            return (\r\n                <a href=\"#!\" key={ id } onClick={() => this.props.onItemSelected(id)} \r\n                    className=\"list-group-item list-group-item-action\">{name}</a>\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { peopleList } = this.state;\r\n        // Отображение прелоадера, пока не подгрузятся данные\r\n        if (!peopleList) {\r\n            return <Spinner />;\r\n        }\r\n        const items = this.renderItems(peopleList);\r\n        \r\n        return (\r\n            <div className=\"list-group\">\r\n                {items}\r\n            </div>\r\n        )\r\n    }\r\n}","import ErrorButton from './error-button';\n\nexport default ErrorButton;\n","import React, { Component } from 'react';\n\nimport './error-button.css';\n\nexport default class ErrorButton extends Component {\n\n    state = {\n        renderError: false\n    };\n\n    render() {\n        if (this.state.renderError) {\n            this.foo.bar = 0;\n        }\n\n        return ( \n            <button className = \"error-button btn btn-danger btn-lg\"\n                onClick = {() => this.setState({ renderError: true })}>\n                    Throw Error\n            </button>\n        );\n    }\n}","import React, { Component } from 'react';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport ErrorButton from '../error-button';\r\nimport './person-details.css';\r\n\r\nexport default class PersonDetails extends Component {\r\n\r\n    swapiService = new SwapiService();\r\n\r\n    state = {\r\n        person: null\r\n    }\r\n\r\n    // Отображение данных с сервера после построения DOM.\r\n    // В React`е используется вместо конструктора\r\n    componentDidMount() {\r\n        this.updatePerson();\r\n    }\r\n\r\n    // Обновление данных только в случае, если что-то действительно поменялось в\r\n    // состоянии компонента. \r\n    // Вызывается каждый раз после того, как компонент обновился и отрендерился.\r\n    // Если данный метод в итоге меняет состояние, то ОБЯЗАТЕЛЬНО нужно применить\r\n    // условие для проверки, что отслеживаемый параметр props действиельно изменился,\r\n    // иначе при изменении state этот метод будет вызываться бесконечно!\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.personId !== prevProps.personId) {\r\n            this.updatePerson();\r\n        }\r\n    }\r\n\r\n    // Метод обновления данных\r\n    updatePerson() {\r\n        const { personId } = this.props;\r\n        // Если Id не передан в props, то перерисовывать компонент не нужно\r\n        if (!personId) {\r\n            return;\r\n        }\r\n\r\n        this.swapiService\r\n            .getPerson(personId)\r\n            .then((person) => {\r\n                this.setState({ person });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.person) {\r\n            return <span>Select a person from a list</span>;\r\n            // return <Spinner />\r\n        }\r\n      \r\n        const { id, name, gender, birthYear, eyeColor } = this.state.person;\r\n        \r\n        return (\r\n            <div className=\"person-details card\">\r\n                <img className=\"person-image\" src={`https://starwars-visualguide.com/assets/img/characters/${id}.jpg`} alt=\"Character\" />\r\n                <div className=\"card-body\">\r\n                    <h4 className=\"card-title\">{name}</h4>\r\n                    <p className=\"card-text\">Gender: <span className=\"badge badge-dark\">{gender}</span></p>\r\n                    <p className=\"card-text\">Birth Year: <span className=\"badge badge-dark\">{birthYear}</span></p>\r\n                    <p className=\"card-text\">Eye Color: <span className=\"badge badge-dark\">{eyeColor}</span></p>\r\n                </div>\r\n                <div>\r\n                    <ErrorButton />\r\n                </div> \r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\n\nimport './error-indicator.css';\nimport icon from './death-star.png';\n\nconst ErrorIndicator = () => {\n  return (\n      <div className=\"error-indicator\">\n            <img className=\"error-icon\" src={icon} alt=\"error icon\"/>\n            <span className=\"boom\">BOOM!</span>\n            <span>something has gone terribly wrong</span>\n            <span>(but we already sent droids to fix it)</span>\n      </div>\n  );\n};\n\nexport default ErrorIndicator;","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React, { Component } from 'react';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\nimport './random-planet.css';\r\n\r\nexport default class RandomPlanet extends Component {\r\n    // Объект сервиса для работы с удаленным сервером\r\n    swapiService = new SwapiService();\r\n    \r\n    state = {\r\n        planet: {},\r\n        loading: true, // флаг отображения спиннера\r\n        error: false // флаг ошибки загрузки данных\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Инициализация метода для загрузки случайной планеты\r\n        this.updatePlanet();\r\n        this.interval = setInterval(this.updatePlanet, 10000);\r\n    }\r\n\r\n    //\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    // Собственное событие обновления данных планеты на основе трансформированных \r\n    // данных из стороннего API в классе SwapiService\r\n    onPlanetLoaded = (planet) => {\r\n        // Т.к. начального состояния стэйта нету, можно присваивать данные напрямую\r\n        this.setState({\r\n            planet,\r\n            loading: false,\r\n            error: false\r\n        });\r\n    };\r\n\r\n    //\r\n    onError = (err) => {\r\n        this.setState({\r\n            error: true,\r\n            loading: false\r\n        });\r\n    };\r\n\r\n    updatePlanet = () => {\r\n        const id = Math.floor(Math.random() * 25) + 2;\r\n        // const id = 1200;\r\n        this.swapiService\r\n            .getPlanet(id)\r\n            .then(this.onPlanetLoaded)\r\n            .catch(this.onError); // отлов возможной ошибки\r\n    }\r\n    \r\n    render() {\r\n        const { planet, loading, error } = this.state;\r\n        \r\n        const hasData = !(loading || error);\r\n        // Компонент с выводом сообщений об ошибках\r\n        const errorMessage = error ? <ErrorIndicator /> : null;\r\n        // В зависимости от булевого значения loading будет отображаться или\r\n        // спиннер, пока данные планеты не загружены, или, собственно, данные планеты,\r\n        // вынесенные в отдельный компонент\r\n        const spinner = loading ? <Spinner /> : null;\r\n        const content = hasData ? <PlanetView planet={planet} /> : null;\r\n\r\n        return (\r\n            <div className=\"random-planet bg-dark\">\r\n                {errorMessage}\r\n                {spinner}\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst PlanetView = ({ planet }) => {\r\n    const { id, name, population, rotationPeriod, diameter } = planet;\r\n    // Получение подходящего изображения с еще одного тематического ресурса,\r\n    // (starwars-visualguide.com) где id картинки соответствует id объекта \r\n    // планеты, т.к. этот сервис тоже использует swapi.co\r\n    return (\r\n        <div className=\"wrap\">\r\n            <img src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`} className=\"img-fluid planet-img\" alt=\"Planet\" />\r\n            <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                    <h4 className=\"card-title\">{name}</h4>\r\n                    <h6 className=\"card-subtitle mb-2 text-muted\">Star Wars Planets</h6>\r\n                    <p className=\"card-text\">Population: <span className=\"badge badge-dark\">{population}</span></p>\r\n                    <p className=\"card-text\">Rotation period: <span className=\"badge badge-dark\">{rotationPeriod}</span></p>\r\n                    <p className=\"card-text\">Diameter: <span className=\"badge badge-dark\">{diameter}</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import RandomPlanet from './random-planet';\r\n\r\nexport default RandomPlanet;","import PeoplePage from './people-page';\n\nexport default PeoplePage;\n","import React, { Component } from 'react';\n\nimport ItemList from '../item-list/item-list';\nimport PersonDetails from '../person-details/person-details';\nimport ErrorIndicator from '../error-indicator/error-indicator';\n\nimport './people-page.css';\n\nexport default class PeoplePage extends Component {\n\n    state = {\n        selectedPerson: 1,\n        hasError: false\n    };\n\n    componentDidCatch (error, info) {\n        this.setState({\n            hasError: true\n        });\n    }\n\n    // Событие переключения id персонажа\n    onPersonSelected = (selectedPerson) => {\n        this.setState({\n            selectedPerson\n        });\n    };\n\n    render() {\n\n        if (this.state.hasError) {\n            return <ErrorIndicator />;\n        }\n\n        return (\n            <React.Fragment>\n                <div className=\"col-md-6\">\n                    <ItemList onItemSelected={this.onPersonSelected} />\n                </div>\n                <div className=\"col-md-6\">\n                    <PersonDetails personId={this.state.selectedPerson} />\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n","import App from './app';\r\n\r\nexport default App;","import React, { Component } from 'react';\r\n\r\nimport Header from '../header';\r\nimport ItemList from '../item-list';\r\nimport PersonDetails from '../person-details';\r\n//import PlanetDetails from '../planet-details';\r\nimport RandomPlanet from '../random-planet';\r\n//import StarshipDetails from '../starship-details';\r\n\r\nimport './app.css';\r\nimport ErrorIndicator from '../error-indicator';\r\nimport ErrorButton from '../error-button';\r\nimport PeoplePage from '../people-page';\r\n\r\nexport default class App extends Component {\r\n    \r\n    state = {\r\n        hasError: false\r\n    }\r\n\r\n    // Отлов ошибок всего приложения\r\n    componentDidCatch() {\r\n        console.log('componentDidCatch()');\r\n        this.setState({hasError: true});\r\n    }\r\n\r\n    render() {\r\n        //\r\n        if (this.state.hasError) {\r\n            return <ErrorIndicator />\r\n        }\r\n        \r\n        return (\r\n            <div className=\"row\">\r\n                <Header />\r\n                <RandomPlanet />\r\n\r\n                <div className=\"container button-row\">\r\n                    <ErrorButton />\r\n                </div>\r\n\r\n                <PeoplePage />\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './components/app';\r\n\r\n// Render React App\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}